<ng-container [ngSwitch]="questData.state">
    <ng-container *ngSwitchCase="'unopened'">
        <div class="quest-unopened-card" (click)="openCard()">
            <p>Click to open!</p>
        </div>
    </ng-container>

    <ng-container *ngSwitchCase="'active'">
        <ng-container *ngTemplateOutlet="openQuestCard"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'validating'">
        <div class="quest-validating-card">
            <p>validating</p>
        </div>
    </ng-container>
</ng-container>

<ng-template #openQuestCard>
    <div class="quest-opened-card">

        <ng-container [ngSwitch]="questData.ban_state">

            <ng-container *ngSwitchCase="'banning'">
                <div class="ban-state-info" [style.--tooltipcontent]="stringWrap('Ãœber '+questData.item.name+' wird gerade abgestimmt.')">!</div>
            </ng-container>

            <ng-container *ngSwitchCase="'banned'">
                <div class="ban-state-info" [style.--tooltipcontent]="stringWrap(questData.item.name+' wurde gebannt. Du kannst ohne Konsequenzen aufgeben!')">!</div>
            </ng-container>

            <ng-container *ngSwitchDefault></ng-container>

        </ng-container>


        <div>{{ questData.verb.imp }} {{ questData.victim.username }} mit {{ questData.item.prep }} {{ questData.item.name }}</div>
        <div *ngIf="enterDistance; then distanceInput else defaultActions"></div>
        <ng-template #distanceInput>
            <div class="quest-btn-cont">
                <input type="number" placeholder="Entfernung von zuhause" [(ngModel)]="distance">
                <button (click)="enterDistance=false; openModal(getSuccessConfirmMessage(), requestKillVal.bind(this))">OK</button>
            </div>
        </ng-template>
        <ng-template #defaultActions>
            <div class="quest-btn-cont">
                <button (click)="openModal(
                    'Du willst wirklich aufgeben?',
                    surrender.bind(this))">Aufgeben</button>
                        <button *ngIf="!['banned', 'banning'].includes(questData.ban_state)" (click)="actionState='ban_note'">{{ questData.item.name }} bannen</button>
            </div>
        </ng-template>
    </div>
</ng-template>